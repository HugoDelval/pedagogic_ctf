<div class="container">
    <section class="well row">
        <div class="col-xs-12">
            <h2>Profile of {{user.email}}</h2>
            <br>
            <span class="label label-primary"
                  style="font-size:115%">Score : {{user.score}}/{{totalScoreChallenges}}</span>
            <span class="label label-info" style="font-size:115%">Validated challenges : {{user.validatedChallenges.length}}/{{nbChallengesAvailable}}</span>
            <h3>Validated challenges: </h3>
            <table class="table table-striped table-hover ">
                <thead>
                <tr>
                    <th># Points</th>
                    <th>Challenge Name</th>
                    <th>Exploited</th>
                    <th>Corrected</th>
                    <th>Validated time</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="challenge in user.validatedChallenges | orderBy: '-points'">
                    <td>{{challenge.points}}</td>
                    <td>{{challenge.name}}</td>
	            <td ng-show="challenge.is_exploited"><span class="material-icons">done</span></td>
	            <td ng-show="!challenge.is_exploited"><span class="material-icons">clear</span></td>
	            <td ng-show="challenge.is_corrected"><span class="material-icons">done</span></td>
	            <td ng-show="!challenge.is_corrected"><span class="material-icons">clear</span></td>
                    <td>{{challenge.date_validated | date:'MM/dd/yyyy @ h:mma'}}</td>
                    <!-- End chall -->
                </tr>

                </tbody>
            </table>
        </div>

        <div ng-if="currentUser" class="col-xs-12">
            <h3 style="margin-top:40px">Change password</h3>
            <form novalidate>
                <div class="form-group">
                    <label for="password">New Password:</label>
                    <input id="password" type="password" class="form-control" ng-model="request.password">
                </div>
                <div class="form-group">
                    <label for="passwordConfirm">Confirm new Password:</label>
                    <input id="passwordConfirm" type="password" ng-model="request.passwordConfirm" class="form-control">
                </div>
                <input type="submit" ng-click="changePassword()" value="Change password"
                       class="btn btn-raised btn-info">
                <input type="reset" value="Reset" class="btn btn-raised">
            </form>
        </div>
        <hr>

        <div ng-if="currentUser" class="col-xs-12">
            <h4 style="margin-top:40px">You can also delete you account.. If you really want to</h4>
            <button ng-click="deleteAccount()" class="btn btn-raised btn-danger">Delete account</button>
        </div>
    </section>
</div>
